<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>a-planta Timer | –£—á–µ—Ç —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏</title>
    <style>
        /* –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –∏ —Å–±—Ä–æ—Å */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: rgb(178, 223, 219);
            --primary-dark: rgb(148, 203, 198);
            --text-color: #333;
            --light-gray: #f5f5f7;
            --border-radius: 12px;
            --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            color: var(--text-color);
            line-height: 1.6;
            background-color: #fff;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 1000px;
            min-height: 90vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        /* –≠–∫—Ä–∞–Ω –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ */
        .auth-screen {
            text-align: center;
            max-width: 400px;
            width: 100%;
            padding: 40px;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }

        .logo {
            margin-bottom: 20px;
        }

        .logo svg {
            margin-bottom: 15px;
        }

        .logo h1 {
            font-weight: 600;
            font-size: 2.5rem;
            color: var(--primary-color);
        }

        .tagline {
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1rem;
        }

        .auth-form {
            margin-bottom: 30px;
        }

        .auth-form input {
            width: 100%;
            padding: 15px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 1rem;
            text-align: center;
            letter-spacing: 1px;
        }

        .auth-form button {
            width: 100%;
            padding: 15px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .auth-form button:hover {
            background: var(--primary-dark);
        }

        .features {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-top: 40px;
        }

        .feature {
            padding: 20px;
            background: var(--light-gray);
            border-radius: var(--border-radius);
            text-align: left;
        }

        .feature h3 {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ */
        .app-container {
            width: 100%;
            display: none;
            flex-direction: column;
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            margin-bottom: 30px;
        }

        .nav-brand {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
            font-size: 1.2rem;
            color: var(--primary-color);
        }

        .nav-user {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logout-btn {
            padding: 8px 15px;
            background: transparent;
            color: #666;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .logout-btn:hover {
            background: var(--light-gray);
        }

        .home-btn {
            padding: 8px 15px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .home-btn:hover {
            background: var(--primary-dark);
        }

        .main-content {
            width: 100%;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        section {
            margin-bottom: 40px;
            padding: 30px;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            flex: 1;
        }

        h2 {
            margin-bottom: 20px;
            font-weight: 600;
            color: #444;
        }

        /* –¢–∞–π–º–µ—Ä */
        .timer-card {
            text-align: center;
            padding: 30px;
            background: var(--light-gray);
            border-radius: var(--border-radius);
            margin-bottom: 30px;
        }

        .timer-display {
            font-size: 3.5rem;
            font-weight: 200;
            font-variant-numeric: tabular-nums;
            margin-bottom: 30px;
            color: #444;
        }

        .timer-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        button {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            border: none;
            border-radius: var(--border-radius);
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
        }

        .btn-secondary {
            background: white;
            color: var(--text-color);
            border: 1px solid #ddd;
        }

        .btn-secondary:hover {
            background: var(--light-gray);
        }

        /* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .stat-card {
            padding: 20px;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            text-align: center;
        }

        .stat-card h3 {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 10px;
        }

        .stat-card span {
            font-size: 1.8rem;
            font-weight: 300;
            color: #444;
        }

        /* –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ç–∞–≤–∫–∏ */
        .rate-card {
            display: flex;
            gap: 15px;
        }

        .rate-card input {
            flex: 1;
            padding: 12px 16px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 1rem;
        }

        .rate-card button {
            white-space: nowrap;
        }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è */
        .app-nav {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            padding: 20px 0;
        }

        .nav-btn {
            flex-direction: column;
            padding: 15px;
            font-size: 0.8rem;
            background: var(--light-gray);
        }

        .nav-btn:hover {
            background: #e9e9e9;
        }

        /* –ò—Å—Ç–æ—Ä–∏—è */
        .history-filters {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .history-filters input {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
        }

        .history-filters button {
            white-space: nowrap;
        }

        .history-list {
            margin-bottom: 30px;
        }

        .history-item {
            display: grid;
            grid-template-columns: 1fr 1.5fr 1fr 1fr;
            gap: 15px;
            padding: 15px;
            border-bottom: 1px solid #eee;
        }

        .history-stats {
            padding: 20px;
            background: var(--light-gray);
            border-radius: var(--border-radius);
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #ddd;
        }

        /* –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è */
        .sync-section {
            padding: 20px;
            background: var(--light-gray);
            border-radius: var(--border-radius);
            margin-top: 20px;
        }

        .sync-controls {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        /* –£—Ç–∏–ª–∏—Ç—ã */
        .hidden {
            display: none;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .timer-display {
                font-size: 2.5rem;
            }
            
            .timer-controls {
                flex-direction: column;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .rate-card {
                flex-direction: column;
            }
            
            .app-nav {
                flex-wrap: wrap;
            }
            
            .history-item {
                grid-template-columns: 1fr 1fr;
                gap: 10px;
            }
            
            .history-filters {
                flex-direction: column;
                align-items: stretch;
            }
            
            .auth-screen {
                padding: 20px;
            }
            
            .navbar {
                flex-direction: column;
                gap: 15px;
            }
            
            .sync-controls {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –≠–∫—Ä–∞–Ω –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ -->
        <div class="auth-screen" id="authScreen">
            <div class="logo">
                <svg width="50" height="50" viewBox="0 0 50 50">
                    <circle cx="25" cy="25" r="20" fill="rgb(178, 223, 219)" />
                    <text x="25" y="32" font-family="Arial" font-size="20" text-anchor="middle" fill="white">a</text>
                </svg>
                <h1>a-planta Timer</h1>
            </div>
            <p class="tagline">–£—á–µ—Ç —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ –∑–∞—Ä–∞–±–æ—Ç–∫–∞ –≤ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏ "–ê-–ü–õ–ê–ù–¢–ê"</p>
            
            <div class="auth-form">
                <input type="password" id="passwordInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
                <button onclick="login()">–í–æ–π—Ç–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
            </div>
            
            <div class="features">
                <div class="feature">
                    <h3>üìä –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏</h3>
                    <p>–§–∏–∫—Å–∏—Ä—É–π—Ç–µ –Ω–∞—á–∞–ª–æ –∏ –∫–æ–Ω–µ—Ü —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è</p>
                </div>
                <div class="feature">
                    <h3>üí∏ –†–∞—Å—á–µ—Ç –∑–∞—Ä–∞–±–æ—Ç–∫–∞</h3>
                    <p>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –¥–æ—Ö–æ–¥–∞ –ø–æ —á–∞—Å–∞–º</p>
                </div>
                <div class="feature">
                    <h3>üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∏—Å—Ç–æ—Ä–∏—è</h3>
                    <p>–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Å–≤–æ—é –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å –ø–æ–º–æ—â—å—é –≥—Ä–∞—Ñ–∏–∫–æ–≤</p>
                </div>
                <div class="feature">
                    <h3>‚òÅÔ∏è –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è</h3>
                    <p>–†–∞–±–æ—Ç–∞–π—Ç–µ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π –¥–∞–Ω–Ω—ã—Ö</p>
                </div>
            </div>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–∫—Ä—ã—Ç) -->
        <div class="app-container" id="appContainer">
            <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
            <nav class="navbar">
                <div class="nav-brand">
                    <svg width="30" height="30" viewBox="0 0 50 50">
                        <circle cx="25" cy="25" r="20" fill="rgb(178, 223, 219)" />
                        <text x="25" y="32" font-family="Arial" font-size="20" text-anchor="middle" fill="white">a</text>
                    </svg>
                    <span>a-planta Timer</span>
                </div>
                <div class="nav-user">
                    <button class="home-btn" onclick="goToHome()">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                            <polyline points="9 22 9 12 15 12 15 22"></polyline>
                        </svg>
                        –ù–∞ –≥–ª–∞–≤–Ω—É—é
                    </button>
                    <button class="logout-btn" onclick="logout()">–í—ã–π—Ç–∏</button>
                </div>
            </nav>

            <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
            <main class="main-content">
                <!-- –≠–∫—Ä–∞–Ω —Ç–∞–π–º–µ—Ä–∞ -->
                <section class="timer-section" id="timerSection">
                    <h2>–¢–µ–∫—É—â–∏–π —Ä–∞–±–æ—á–∏–π —Å–µ–∞–Ω—Å</h2>
                    <div class="timer-card">
                        <div class="timer-display">
                            <span id="currentTimer">00:00:00</span>
                        </div>
                        <div class="timer-controls">
                            <button id="startTimer" class="btn-primary" onclick="startTimer()">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <polygon points="10,8 16,12 10,16"></polygon>
                                </svg>
                                –ù–∞—á–∞—Ç—å –¥–µ–Ω—å
                            </button>
                            <button id="stopTimer" class="btn-secondary" onclick="stopTimer()" disabled>
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <rect x="9" y="9" width="6" height="6"></rect>
                                </svg>
                                –ó–∞–≤–µ—Ä—à–∏—Ç—å –¥–µ–Ω—å
                            </button>
                        </div>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <h3>–¢–µ–∫—É—â–∏–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫</h3>
                            <span id="currentEarnings">0 ‚ÇΩ</span>
                        </div>
                        <div class="stat-card">
                            <h3>–û—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ —Å–µ–≥–æ–¥–Ω—è</h3>
                            <span id="todayTime">00:00:00</span>
                        </div>
                    </div>

                    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –≤–Ω–∏–∑—É —Ä–∞–∑–¥–µ–ª–∞ -->
                    <div class="app-nav">
                        <button class="nav-btn" onclick="showSection('timerSection')">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                            –¢–∞–π–º–µ—Ä
                        </button>
                        <button class="nav-btn" onclick="showSection('rateSection')">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="1" x2="12" y2="23"></line>
                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                            </svg>
                            –°—Ç–∞–≤–∫–∞
                        </button>
                        <button class="nav-btn" onclick="showSection('historySection')">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                            </svg>
                            –ò—Å—Ç–æ—Ä–∏—è
                        </button>
                        <button class="nav-btn" onclick="showSection('syncSection')">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 12a9 9 0 0 1-9 9m9-9a9 9 0 0 0-9-9m9 9H3m9 9a9 9 0 0 1-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 0 1 9-9"></path>
                            </svg>
                            –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
                        </button>
                    </div>
                </section>

                <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—á–∞—Å–æ–≤–æ–π —Å—Ç–∞–≤–∫–∏ -->
                <section class="rate-section hidden" id="rateSection">
                    <h2>–ü–æ—á–∞—Å–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞</h2>
                    <div class="rate-card">
                        <input type="number" id="hourlyRate" placeholder="–ü–æ—á–∞—Å–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞ (‚ÇΩ)">
                        <button class="btn-primary" onclick="updateHourlyRate()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    </div>

                    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –≤–Ω–∏–∑—É —Ä–∞–∑–¥–µ–ª–∞ -->
                    <div class="app-nav">
                        <button class="nav-btn" onclick="showSection('timerSection')">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                            –¢–∞–π–º–µ—Ä
                        </button>
                        <button class="nav-btn" onclick="showSection('rateSection')">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="1" x2="12" y2="23"></line>
                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                            </svg>
                            –°—Ç–∞–≤–∫–∞
                        </button>
                        <button class="nav-btn" onclick="showSection('historySection')">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                            </svg>
                            –ò—Å—Ç–æ—Ä–∏—è
                        </button>
                        <button class="nav-btn" onclick="showSection('syncSection')">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 12a9 9 0 0 1-9 9m9-9a9 9 0 0 0-9-9m9 9H3m9 9a9 9 0 0 1-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 0 1 9-9"></path>
                            </svg>
                            –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
                        </button>
                    </div>
                </section>

                <!-- –ò—Å—Ç–æ—Ä–∏—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                <section class="history-section hidden" id="historySection">
                    <h2>–ò—Å—Ç–æ—Ä–∏—è —Ä–∞–±–æ—Ç—ã</h2>
                    <div class="history-filters">
                        <input type="date" id="startDate">
                        <span>–ø–æ</span>
                        <input type="date" id="endDate">
                        <button class="btn-primary" onclick="filterHistory()">–§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å</button>
                        <button class="btn-secondary" onclick="exportToPDF()">–≠–∫—Å–ø–æ—Ä—Ç –≤ PDF</button>
                    </div>
                    <div class="history-list" id="historyList">
                        <!-- –ò—Å—Ç–æ—Ä–∏—è –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –∑–¥–µ—Å—å -->
                    </div>
                    <div class="history-stats">
                        <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                        <div id="historyStats">
                            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –∑–¥–µ—Å—å -->
                        </div>
                    </div>

                    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –≤–Ω–∏–∑—É —Ä–∞–∑–¥–µ–ª–∞ -->
                    <div class="app-nav">
                        <button class="nav-btn" onclick="showSection('timerSection')">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                            –¢–∞–π–º–µ—Ä
                        </button>
                        <button class="nav-btn" onclick="showSection('rateSection')">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="1" x2="12" y2="23"></line>
                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                            </svg>
                            –°—Ç–∞–≤–∫–∞
                        </button>
                        <button class="nav-btn" onclick="showSection('historySection')">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                            </svg>
                            –ò—Å—Ç–æ—Ä–∏—è
                        </button>
                        <button class="nav-btn" onclick="showSection('syncSection')">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 12a9 9 0 0 1-9 9m9-9a9 9 0 0 0-9-9m9 9H3m9 9a9 9 0 0 1-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 0 1 9-9"></path>
                            </svg>
                            –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
                        </button>
                    </div>
                </section>

                <!-- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö -->
                <section class="sync-section hidden" id="syncSection">
                    <h2>–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö</h2>
                    <p>–î–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ –∏ –∏–º–ø–æ—Ä—Ç–∞.</p>
                    
                    <div class="sync-controls">
                        <button class="btn-primary" onclick="exportData()">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="7 10 12 15 17 10"></polyline>
                                <line x1="12" y1="15" x2="12" y2="3"></line>
                            </svg>
                            –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
                        </button>
                        <button class="btn-secondary" onclick="document.getElementById('importFile').click()">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="17 8 12 3 7 8"></polyline>
                                <line x1="12" y1="3" x2="12" y2="15"></line>
                            </svg>
                            –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
                        </button>
                        <input type="file" id="importFile" style="display: none" accept=".json" onchange="importData(event)">
                    </div>

                    <div class="sync-status" id="syncStatus" style="margin-top: 20px; padding: 10px; background: white; border-radius: var(--border-radius);">
                        <p>–°—Ç–∞—Ç—É—Å: –î–∞–Ω–Ω—ã–µ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã</p>
                    </div>

                    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –≤–Ω–∏–∑—É —Ä–∞–∑–¥–µ–ª–∞ -->
                    <div class="app-nav">
                        <button class="nav-btn" onclick="showSection('timerSection')">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                            –¢–∞–π–º–µ—Ä
                        </button>
                        <button class="nav-btn" onclick="showSection('rateSection')">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="1" x2="12" y2="23"></line>
                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                            </svg>
                            –°—Ç–∞–≤–∫–∞
                        </button>
                        <button class="nav-btn" onclick="showSection('historySection')">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                            </svg>
                            –ò—Å—Ç–æ—Ä–∏—è
                        </button>
                        <button class="nav-btn" onclick="showSection('syncSection')">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 12a9 9 0 0 1-9 9m9-9a9 9 0 0 0-9-9m9 9H3m9 9a9 9 0 0 1-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 0 1 9-9"></path>
                            </svg>
                            –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
                        </button>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <script>
        // –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        const PASSWORD = "aplanta10";
        let timerInterval = null;
        let startTime = null;
        let elapsedTime = 0;
        let isTimerRunning = false;

        // –≠–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        const authScreen = document.getElementById('authScreen');
        const appContainer = document.getElementById('appContainer');
        const passwordInput = document.getElementById('passwordInput');
        const currentTimerElement = document.getElementById('currentTimer');
        const currentEarningsElement = document.getElementById('currentEarnings');
        const todayTimeElement = document.getElementById('todayTime');
        const startButton = document.getElementById('startTimer');
        const stopButton = document.getElementById('stopTimer');
        const syncStatus = document.getElementById('syncStatus');

        // –§—É–Ω–∫—Ü–∏—è –≤—Ö–æ–¥–∞
        function login() {
            if (passwordInput.value === PASSWORD) {
                authScreen.style.display = 'none';
                appContainer.style.display = 'flex';
                loadUserData();
            } else {
                alert('–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.');
                passwordInput.value = '';
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –≤—ã—Ö–æ–¥–∞
        function logout() {
            if (isTimerRunning) {
                if (!confirm('–¢–∞–π–º–µ—Ä –≤—Å–µ –µ—â–µ —Ä–∞–±–æ—Ç–∞–µ—Ç. –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏?')) {
                    return;
                }
                stopTimer();
            }
            
            authScreen.style.display = 'flex';
            appContainer.style.display = 'none';
            passwordInput.value = '';
        }

        // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ –≥–ª–∞–≤–Ω—É—é
        function goToHome() {
            showSection('timerSection');
        }

        // –ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞
        function startTimer() {
            if (isTimerRunning) return;
            
            startTime = new Date();
            isTimerRunning = true;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º UI
            startButton.disabled = true;
            stopButton.disabled = false;
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏
            timerInterval = setInterval(updateTimer, 1000);
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
            localStorage.setItem('timerStartTime', startTime.toISOString());
        }

        // –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–∞–π–º–µ—Ä–∞
        function stopTimer() {
            if (!isTimerRunning) return;
            
            clearInterval(timerInterval);
            isTimerRunning = false;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º UI
            startButton.disabled = false;
            stopButton.disabled = true;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–µ–∞–Ω—Å —Ä–∞–±–æ—Ç—ã
            saveWorkSession();
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ç–∞–π–º–µ—Ä
            currentTimerElement.textContent = '00:00:00';
            elapsedTime = 0;
            
            // –£–¥–∞–ª—è–µ–º –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –∏–∑ localStorage
            localStorage.removeItem('timerStartTime');
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞
        function updateTimer() {
            const now = new Date();
            elapsedTime = Math.floor((now - startTime) / 1000);
            
            const hours = Math.floor(elapsedTime / 3600);
            const minutes = Math.floor((elapsedTime % 3600) / 60);
            const seconds = elapsedTime % 60;
            
            currentTimerElement.textContent = 
                `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—É—â–∏–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫
            updateCurrentEarnings();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∫–∞
        function updateCurrentEarnings() {
            const hourlyRate = parseFloat(localStorage.getItem('hourlyRate')) || 0;
            if (hourlyRate > 0) {
                const earnings = (elapsedTime / 3600) * hourlyRate;
                currentEarningsElement.textContent = `${earnings.toFixed(2)} ‚ÇΩ`;
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ–∞–Ω—Å–∞ —Ä–∞–±–æ—Ç—ã
        function saveWorkSession() {
            const endTime = new Date();
            const duration = elapsedTime;
            const hourlyRate = parseFloat(localStorage.getItem('hourlyRate')) || 0;
            const earnings = (duration / 3600) * hourlyRate;
            
            // –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç —Å–µ–∞–Ω—Å–∞
            const session = {
                date: startTime.toISOString().split('T')[0],
                startTime: startTime.toISOString(),
                endTime: endTime.toISOString(),
                duration: duration,
                earnings: earnings
            };
            
            // –ü–æ–ª—É—á–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∏—Å—Ç–æ—Ä–∏—é
            let workHistory = JSON.parse(localStorage.getItem('workHistory')) || [];
            
            // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π —Å–µ–∞–Ω—Å
            workHistory.push(session);
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é
            localStorage.setItem('workHistory', JSON.stringify(workHistory));
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            updateStats();
            loadHistory();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        function updateStats() {
            const workHistory = JSON.parse(localStorage.getItem('workHistory')) || [];
            const today = new Date().toISOString().split('T')[0];
            
            // –§–∏–ª—å—Ç—Ä—É–µ–º —Å–µ–∞–Ω—Å—ã –∑–∞ —Å–µ–≥–æ–¥–Ω—è
            const todaySessions = workHistory.filter(session => session.date === today);
            
            // –°—á–∏—Ç–∞–µ–º –æ–±—â–µ–µ –≤—Ä–µ–º—è –∑–∞ —Å–µ–≥–æ–¥–Ω—è
            const totalSecondsToday = todaySessions.reduce((total, session) => total + session.duration, 0);
            
            const hoursToday = Math.floor(totalSecondsToday / 3600);
            const minutesToday = Math.floor((totalSecondsToday % 3600) / 60);
            const secondsToday = totalSecondsToday % 60;
            
            todayTimeElement.textContent = 
                `${hoursToday.toString().padStart(2, '0')}:${minutesToday.toString().padStart(2, '0')}:${secondsToday.toString().padStart(2, '0')}`;
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—á–∞—Å–æ–≤–æ–π —Å—Ç–∞–≤–∫–∏
        function updateHourlyRate() {
            const hourlyRateInput = document.getElementById('hourlyRate');
            const rate = parseFloat(hourlyRateInput.value);
            
            if (!isNaN(rate) && rate >= 0) {
                localStorage.setItem('hourlyRate', rate.toString());
                alert('–ü–æ—á–∞—Å–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—É—â–∏–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫, –µ—Å–ª–∏ —Ç–∞–π–º–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç
                if (isTimerRunning) {
                    updateCurrentEarnings();
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∏—Å—Ç–æ—Ä–∏—é, —á—Ç–æ–±—ã –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –∑–∞—Ä–∞–±–æ—Ç–æ–∫
                loadHistory();
            } else {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –ø–æ—á–∞—Å–æ–≤–æ–π —Å—Ç–∞–≤–∫–∏.');
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ —Ä–∞–±–æ—Ç—ã
        function loadHistory() {
            const historyList = document.getElementById('historyList');
            const workHistory = JSON.parse(localStorage.getItem('workHistory')) || [];
            
            if (workHistory.length === 0) {
                historyList.innerHTML = '<p>–ò—Å—Ç–æ—Ä–∏—è —Ä–∞–±–æ—Ç—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.</p>';
                updateHistoryStats(workHistory);
                return;
            }
            
            // –°–æ—Ä—Ç–∏—Ä—É–µ–º –∏—Å—Ç–æ—Ä–∏—é –ø–æ –¥–∞—Ç–µ (–Ω–æ–≤—ã–µ first)
            workHistory.sort((a, b) => new Date(b.startTime) - new Date(a.startTime));
            
            let historyHTML = '';
            workHistory.forEach(session => {
                const date = new Date(session.startTime);
                const startTime = new Date(session.startTime);
                const endTime = new Date(session.endTime);
                
                const hours = Math.floor(session.duration / 3600);
                const minutes = Math.floor((session.duration % 3600) / 60);
                
                historyHTML += `
                    <div class="history-item">
                        <div class="history-date">${date.toLocaleDateString()}</div>
                        <div class="history-time">${startTime.toLocaleTimeString()} - ${endTime.toLocaleTimeString()}</div>
                        <div class="history-duration">${hours}—á ${minutes}–º</div>
                        <div class="history-earnings">${session.earnings.toFixed(2)} ‚ÇΩ</div>
                    </div>
                `;
            });
            
            historyList.innerHTML = historyHTML;
            updateHistoryStats(workHistory);
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏—Å—Ç–æ—Ä–∏–∏
        function updateHistoryStats(workHistory) {
            const historyStats = document.getElementById('historyStats');
            
            if (workHistory.length === 0) {
                historyStats.innerHTML = '<p>–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.</p>';
                return;
            }
            
            // –í—ã—á–∏—Å–ª—è–µ–º –æ–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            const totalHours = workHistory.reduce((total, session) => total + (session.duration / 3600), 0);
            const totalEarnings = workHistory.reduce((total, session) => total + session.earnings, 0);
            const averageEarnings = totalEarnings / workHistory.length;
            
            // –ù–∞—Ö–æ–¥–∏–º —Å–∞–º—ã–π –¥–ª–∏–Ω–Ω—ã–π —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å
            const longestSession = workHistory.reduce((longest, session) => {
                return session.duration > longest.duration ? session : longest;
            }, workHistory[0]);
            
            historyStats.innerHTML = `
                <div class="stat-item">
                    <span>–û–±—â–µ–µ –≤—Ä–µ–º—è:</span>
                    <span>${totalHours.toFixed(2)} —á–∞—Å–æ–≤</span>
                </div>
                <div class="stat-item">
                    <span>–û–±—â–∏–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫:</span>
                    <span>${totalEarnings.toFixed(2)} ‚ÇΩ</span>
                </div>
                <div class="stat-item">
                    <span>–°—Ä–µ–¥–Ω–∏–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫:</span>
                    <span>${averageEarnings.toFixed(2)} ‚ÇΩ –∑–∞ —Å–µ–∞–Ω—Å</span>
                </div>
                <div class="stat-item">
                    <span>–°–∞–º—ã–π –¥–ª–∏–Ω–Ω—ã–π —Å–µ–∞–Ω—Å:</span>
                    <span>${Math.floor(longestSession.duration / 3600)}—á ${Math.floor((longestSession.duration % 3600) / 60)}–º</span>
                </div>
            `;
        }

        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏—Å—Ç–æ—Ä–∏–∏
        function filterHistory() {
            const startDate = new Date(document.getElementById('startDate').value);
            const endDate = new Date(document.getElementById('endDate').value);
            
            if (isNaN(startDate.getTime()) || isNaN(endDate.getTime())) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞—Ç—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏');
                return;
            }
            
            const workHistory = JSON.parse(localStorage.getItem('workHistory')) || [];
            const filteredHistory = workHistory.filter(session => {
                const sessionDate = new Date(session.date);
                return sessionDate >= startDate && sessionDate <= endDate;
            });
            
            const historyList = document.getElementById('historyList');
            
            if (filteredHistory.length === 0) {
                historyList.innerHTML = '<p>–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥.</p>';
                updateHistoryStats(filteredHistory);
                return;
            }
            
            let historyHTML = '';
            filteredHistory.forEach(session => {
                const date = new Date(session.startTime);
                const startTime = new Date(session.startTime);
                const endTime = new Date(session.endTime);
                
                const hours = Math.floor(session.duration / 3600);
                const minutes = Math.floor((session.duration % 3600) / 60);
                
                historyHTML += `
                    <div class="history-item">
                        <div class="history-date">${date.toLocaleDateString()}</div>
                        <div class="history-time">${startTime.toLocaleTimeString()} - ${endTime.toLocaleTimeString()}</div>
                        <div class="history-duration">${hours}—á ${minutes}–º</div>
                        <div class="history-earnings">${session.earnings.toFixed(2)} ‚ÇΩ</div>
                    </div>
                `;
            });
            
            historyList.innerHTML = historyHTML;
            updateHistoryStats(filteredHistory);
        }

        // –≠–∫—Å–ø–æ—Ä—Ç –≤ PDF
        function exportToPDF() {
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏ —ç–∫—Å–ø–æ—Ä—Ç –≤ PDF
            alert('–≠–∫—Å–ø–æ—Ä—Ç –≤ PDF –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ —Å–ª–µ–¥—É—é—â–µ–π –≤–µ—Ä—Å–∏–∏');
        }

        // –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
        function exportData() {
            const data = {
                workHistory: JSON.parse(localStorage.getItem('workHistory') || '[]'),
                hourlyRate: localStorage.getItem('hourlyRate') || '',
                exportDate: new Date().toISOString()
            };
            
            const dataStr = JSON.stringify(data, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            const exportFileDefaultName = `a-planta-timer-backup-${new Date().toISOString().slice(0, 10)}.json`;
            
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
            
            syncStatus.innerHTML = '<p>–°—Ç–∞—Ç—É—Å: –î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã</p>';
        }

        // –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
        function importData(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const data = JSON.parse(e.target.result);
                    
                    if (data.workHistory) {
                        localStorage.setItem('workHistory', JSON.stringify(data.workHistory));
                    }
                    
                    if (data.hourlyRate) {
                        localStorage.setItem('hourlyRate', data.hourlyRate);
                        document.getElementById('hourlyRate').value = data.hourlyRate;
                    }
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                    loadHistory();
                    updateStats();
                    
                    syncStatus.innerHTML = '<p>–°—Ç–∞—Ç—É—Å: –î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã</p>';
                    alert('–î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã!');
                } catch (error) {
                    syncStatus.innerHTML = '<p>–°—Ç–∞—Ç—É—Å: –û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö</p>';
                    alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –¥–∞–Ω–Ω—ã—Ö. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç.');
                }
            };
            reader.readAsText(file);
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—É—é —Å–µ–∫—Ü–∏—é
        function showSection(sectionId) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Å–µ–∫—Ü–∏–∏
            document.querySelectorAll('section').forEach(section => {
                section.classList.add('hidden');
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é —Å–µ–∫—Ü–∏—é
            document.getElementById(sectionId).classList.remove('hidden');
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function loadUserData() {
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–æ—á–∞—Å–æ–≤—É—é —Å—Ç–∞–≤–∫—É
            const hourlyRate = localStorage.getItem('hourlyRate') || '';
            document.getElementById('hourlyRate').value = hourlyRate;
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é —Ä–∞–±–æ—Ç—ã
            loadHistory();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            updateStats();
            
            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–∞–π–º–µ—Ä, –µ—Å–ª–∏ –æ–Ω –±—ã–ª –∑–∞–ø—É—â–µ–Ω
            restoreTimer();
        }

        // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        function restoreTimer() {
            const savedStartTime = localStorage.getItem('timerStartTime');
            if (savedStartTime) {
                startTime = new Date(savedStartTime);
                isTimerRunning = true;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º UI
                startButton.disabled = true;
                stopButton.disabled = false;
                
                // –ó–∞–ø—É—Å–∫–∞–µ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª
                timerInterval = setInterval(updateTimer, 1000);
            }
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è Enter –≤ –ø–æ–ª–µ –ø–∞—Ä–æ–ª—è
        passwordInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                login();
            }
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—É—â–∏–µ –¥–∞—Ç—ã –≤ —Ñ–∏–ª—å—Ç—Ä—ã
            const today = new Date();
            const firstDay = new Date(today.getFullYear(), today.getMonth(), 1);
            
            document.getElementById('startDate').valueAsDate = firstDay;
            document.getElementById('endDate').valueAsDate = today;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Ä–∞–Ω–µ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            if (localStorage.getItem('workHistory')) {
                syncStatus.innerHTML = '<p>–°—Ç–∞—Ç—É—Å: –õ–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã</p>';
            }
        });
    </script>
</body>
</html>